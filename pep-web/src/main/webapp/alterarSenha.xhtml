<?xml version="1.0" encoding="ISO-8859-1" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/publicBase.xhtml">
	
    <ui:define name="content">
    	<f:event listener="#{alterarSenhaMBean.verificarToken}" type="preRenderView"/>
    	
    	<div id="alterarsenhadiv" align="center">
    		<p:panel style="width: 100%; padding: 0px;">
    			<div id="headerBoxLogin">
					<span>
						<h:outputText value="#{msg['general.app.title']}"/>
					</span>
				</div>
				
				<div align="center" style="margin: 10px;">
					<span class="header-title">#{msg['alterarsenha.header']}</span>
			        <h:form id="frmAlterarSenha" prependId="false">
				      	<h:outputText value="#{alterarSenhaMBean.emptyStr}"/>
				
						<p:focus for="senhaInput"/>
						<p:panelGrid columns="2" styleClass="noborder" columnClasses="leftAligned, leftAligned" style="margin-top: 15px;">
							<h:outputLabel for="emailOutput" value="#{msg['alterarsenha.campo.email']}: "/>
							<h:outputText id="emailOutput" value="#{alterarSenhaMBean.email}"/>
						
							<h:outputLabel for="senhaInput" value="#{msg['alterarsenha.campo.senha']}: "/>
							<p:password id="senhaInput" value="#{alterarSenhaMBean.senha}" maxlength="8" style="width: 220px;" required="true"
								requiredMessage="#{msg['alterarsenha.campoobrigatorio.senha']}" disabled="#{alterarSenhaMBean.bloquearCampos}"
								match="confirmacaoSenhaInput" validatorMessage="#{msg['alterarsenha.campoobrigatorio.senhasiguais']}"/>
					
							<h:outputLabel for="confirmacaoSenhaInput" value="#{msg['alterarsenha.campo.confirmacaosenha']}: "/>
							<p:password id="confirmacaoSenhaInput" value="#{alterarSenhaMBean.confirmacaoSenha}" maxlength="8" style="width: 220px;" required="true"
								requiredMessage="#{msg['alterarsenha.campoobrigatorio.confirmacaosenha']}" disabled="#{alterarSenhaMBean.bloquearCampos}"/>
						</p:panelGrid>
					
						<div style="width: 360px;">
							<p:messages id="msgs" escape="false"/>
						</div>
						
						<div align="center" style="margin-top: 10px;">
							<p:commandButton value="#{msg['alterarsenha.botao.alterarsenha']}" update="@form" action="#{alterarSenhaMBean.alterarSenha}"
								disabled="#{alterarSenhaMBean.bloquearCampos}"/>
						</div>
					</h:form>
				</div>
			</p:panel>
		</div>
	</ui:define>
    
</ui:composition>